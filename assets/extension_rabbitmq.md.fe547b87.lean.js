import{_ as a,o as n,c as e,M as p}from"./chunks/framework.1eb289b4.js";const d=JSON.parse('{"title":"use-rabbitmq","description":"","frontmatter":{"title":"use-rabbitmq","outline":"deep"},"headers":[],"relativePath":"extension/rabbitmq.md","filePath":"extension/rabbitmq.md","lastUpdated":1701227841000}'),l={name:"extension/rabbitmq.md"};function o(t,s,r,c,i,y){return n(),e("div",null,s[0]||(s[0]=[p(`<h1 id="use-rabbitmq" tabindex="-1">use-rabbitmq <a class="header-anchor" href="#use-rabbitmq" aria-label="Permalink to &quot;use-rabbitmq&quot;">​</a></h1><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-YSCAj" id="tab-PLpgjF8" checked="checked"><label for="tab-PLpgjF8">pip</label><input type="radio" name="group-YSCAj" id="tab-qCSeNUh"><label for="tab-qCSeNUh">poetry</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark"><code><span class="line"><span style="color:#80A665;">pip</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">install</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">use-rabbitmq</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki vitesse-dark"><code><span class="line"><span style="color:#80A665;">poetry</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">add</span><span style="color:#DBD7CAEE;"> </span><span style="color:#C98A7D;">use-rabbitmq</span></span></code></pre></div></div></div><p>一个永不断线的RabbitMQ连接管理</p><h3 id="example" tabindex="-1">example <a class="header-anchor" href="#example" aria-label="Permalink to &quot;example&quot;">​</a></h3><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki vitesse-dark"><code><span class="line"><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> use_rabbitmq </span><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> useRabbitMQ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">rmq </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> useRabbitMQ</span><span style="color:#666666;">()</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#666666;">@</span><span style="color:#80A665;">rmq</span><span style="color:#666666;">.</span><span style="color:#80A665;">listener</span><span style="color:#666666;">(</span><span style="color:#BD976A;">queue_name</span><span style="color:#666666;">=</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#C98A7D;">test</span><span style="color:#C98A7D99;">&quot;</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#CB7676;">def</span><span style="color:#DBD7CAEE;"> </span><span style="color:#80A665;">test_listener</span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">message</span><span style="color:#666666;">):</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    </span><span style="color:#B8A965;">print</span><span style="color:#666666;">(</span><span style="color:#DBD7CAEE;">message</span><span style="color:#666666;">.</span><span style="color:#DBD7CAEE;">body</span><span style="color:#666666;">)</span></span>
<span class="line"><span style="color:#DBD7CAEE;">    message</span><span style="color:#666666;">.</span><span style="color:#DBD7CAEE;">ack</span><span style="color:#666666;">()</span><span style="color:#DBD7CAEE;">  </span><span style="color:#758575DD;"># ack message</span></span></code></pre></div><p>if you use it with <a href="https://github.com/use-py/usepy" target="_blank" rel="noreferrer">usepy</a>, you can use it like this:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki vitesse-dark"><code><span class="line"><span style="color:#4D9375;">from</span><span style="color:#DBD7CAEE;"> usepy</span><span style="color:#666666;">.</span><span style="color:#DBD7CAEE;">plugin </span><span style="color:#4D9375;">import</span><span style="color:#DBD7CAEE;"> useRabbitMQ</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CAEE;">rmq </span><span style="color:#666666;">=</span><span style="color:#DBD7CAEE;"> useRabbitMQ</span><span style="color:#666666;">()</span></span></code></pre></div>`,7)]))}const D=a(l,[["render",o]]);export{d as __pageData,D as default};
